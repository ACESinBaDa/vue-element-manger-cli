{"version":3,"sources":["webpack:///./src/App.vue?89e9","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/login/login.js","webpack:///./src/router/other/other.js","webpack:///./src/router/home/home.js","webpack:///./src/router/index.js","webpack:///./src/store/modules/app.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/getters.js","webpack:///./src/store/index.js","webpack:///./src/assets/js/http.js","webpack:///./src/main.js","webpack:///external \"axios\"","webpack:///external \"Vuex\"","webpack:///external \"ELEMENT\"","webpack:///external \"Vue\"","webpack:///external \"VueRouter\""],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","login_login","path","component","e","then","bind","name","meta","title","other_other","home_home","children","redirect","toConsumableArray_default","external__Vue__default","a","use","external__VueRouter__default","router","routes","mode","beforeEach","to","from","next","params","message","document","src_router","modules_app","state","sidebar","storage_default","session","get","mutations","SET_SIDEBAR","query","actions","setSidebar","_ref","commit","set","modules_user","userInfo","userToken","SET_USERINFO","SET_USERTOKEN","setUserInfo","setUserToken","_ref2","store_getters","app","user","external__Vuex__default","src_store","Store","modules","getters","external__axios__default","defaults","timeout","load","errTime","unLoadRouterArr","interceptors","request","config","console","log","url","isFormdata","headers","transformRequest","data","ret","it","encodeURIComponent","accesstoken","userAccountId","sellerAccountId","indexOf","currentRoute","external__ELEMENT_","service","fullscreen","error","promise_default","reject","response","res","dispatch","close","code","external__ELEMENT__default","Message","type","status","MessageBox","confirm","showCancelButton","closeOnClickModal","replace","catch","err","http","productionTip","prototype","$axios","el","store","components","App","template","module","exports","axios","Vuex","ELEMENT","Vue","VueRouter"],"mappings":"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","file":"static/js/app.8022ac42dd273e1ca931.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00c840fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00c840fa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00c840fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","const Login = () =>\r\n  import(/* webpackChunkName: \"Login\" */ '@/pages/login/login')\r\n\r\nconst login = [{\r\n  path: '/login',\r\n  component: Login,\r\n  name: 'login',\r\n  meta: {\r\n    title: '登录'\r\n  }\r\n}]\r\n\r\nexport default login\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/login/login.js","const Notice = () =>\r\n  import(/* webpackChunkName: \"Notice\" */ '@/pages/other/notice')\r\n\r\nconst other = [{\r\n  path: 'other/notice',\r\n  component: Notice,\r\n  name: 'notice',\r\n  meta: {\r\n    title: '发布公告'\r\n  }\r\n}]\r\n\r\nexport default other\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/other/other.js","import other from '../other/other'\r\n\r\nconst Home = () =>\r\n  import(/* webpackChunkName: \"Home\" */ '@/pages/home/home')\r\n\r\nconst defaultHome = [{\r\n  path: '/home',\r\n  redirect: {\r\n    name: 'notice'\r\n  }\r\n}]\r\n\r\nconst home = [{\r\n  path: '/',\r\n  component: Home,\r\n  name: 'home',\r\n  children: [...defaultHome, ...other]\r\n}]\r\n\r\nexport default home\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/home/home.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport login from './login/login'\nimport home from './home/home'\n\nconst defaultRouter = [{\n  path: '/',\n  redirect: 'login'\n}]\n\nVue.use(Router)\n\nlet router = new Router({\n  routes: [...defaultRouter, ...login, ...home],\n  mode: 'history'\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.title || to.params.message) {\n    document.title = to.meta.title || to.params.message.title\n  } else {\n    document.title = '后台管理系统'\n  }\n  next()\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import storage from 'good-storage'\r\n\r\nconst SIDEBAR = '__sidebar__'\r\n\r\nconst app = {\r\n  state: {\r\n    sidebar: storage.session.get(SIDEBAR)\r\n  },\r\n\r\n  mutations: {\r\n    SET_SIDEBAR: (state, query) => {\r\n      state.sidebar = query\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    setSidebar ({\r\n      commit\r\n    }, query) {\r\n      commit('SET_SIDEBAR', storage.session.set(SIDEBAR, query))\r\n    }\r\n  }\r\n}\r\n\r\nexport default app\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/app.js","import storage from 'good-storage'\r\n\r\nconst USERINFO = '__userInfo__'\r\nconst USERTOKEN = '__userToken__'\r\n\r\nconst user = {\r\n  state: {\r\n    userInfo: storage.session.get(USERINFO),\r\n    userToken: storage.session.get(USERTOKEN)\r\n  },\r\n\r\n  mutations: {\r\n    SET_USERINFO: (state, query) => {\r\n      state.userInfo = query\r\n    },\r\n    SET_USERTOKEN: (state, query) => {\r\n      state.userToken = query\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    setUserInfo ({\r\n      commit\r\n    }, query) {\r\n      commit('SET_USERINFO', storage.session.set(USERINFO, query))\r\n    },\r\n    setUserToken ({\r\n      commit\r\n    }, query) {\r\n      commit('SET_USERTOKEN', storage.session.set(USERTOKEN, query))\r\n    }\r\n  }\r\n}\r\n\r\nexport default user\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","const getters = {\r\n  sidebar: state => state.app.sidebar,\r\n  userInfo: state => state.user.userInfo,\r\n  userToken: state => state.user.userToken\r\n}\r\nexport default getters\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport app from './modules/app'\r\nimport user from './modules/user'\r\nimport getters from './getters'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    app,\r\n    user\r\n  },\r\n  getters\r\n})\r\n\r\nexport default store\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import axios from 'axios'\r\nimport store from '../../store'\r\nimport ElementUI, {\r\n  Loading\r\n} from 'element-ui'\r\nimport router from '../../router'\r\n\r\n// axios 超时配置\r\naxios.defaults.timeout = 40000\r\n\r\n// 全屏加载中\r\nlet load\r\n// 禁止第一次\r\nlet errTime = 0\r\n\r\n// 不需要全屏加载的数组\r\nlet unLoadRouterArr = ['login', 'reg', 'forget']\r\n\r\n/* http 拦截器 */\r\n/* axios token验证 */\r\naxios.interceptors.request.use((config) => {\r\n  console.log(process.env.NODE_ENV)\r\n  config.url = `/api${config.url}`\r\n  // 数据格式判断\r\n  if (config.isFormdata) {\r\n    config.headers['Content-Type'] = 'application/x-www-form-urlencoded'\r\n    config.transformRequest = [(data) => {\r\n      let ret = ''\r\n      for (let it in data) {\r\n        ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n      }\r\n      return ret\r\n    }]\r\n  }\r\n  if (store.state.userInfo) {\r\n    config.headers.accesstoken = store.state.userToken // 请求接口header参数添加\r\n    config.headers.userAccountId = store.state.userInfo.sellerAccountId\r\n  }\r\n  if (unLoadRouterArr.indexOf(router.currentRoute.name) < 0) {\r\n    load = Loading.service({\r\n      fullscreen: true\r\n    })\r\n  }\r\n  return config\r\n}, (error) => {\r\n  return Promise.reject(error)\r\n})\r\n\r\n/* 响应数据获取/更新token */\r\naxios.interceptors.response.use((res) => {\r\n  // 需做用户token和userid存储\r\n  if (res.config.headers.accesstoken !== res.headers.accesstoken && res.headers.accesstoken) {\r\n    store.dispatch('setUserToken', res.headers.accesstoken)\r\n  }\r\n  if (unLoadRouterArr.indexOf(router.currentRoute.name) < 0) {\r\n    load.close()\r\n  }\r\n  if (res.data.code !== '200') {\r\n    ElementUI.Message({\r\n      message: res.data.message,\r\n      type: 'warning'\r\n    })\r\n  }\r\n  return res\r\n}, (error) => {\r\n  console.error(error)\r\n  if (unLoadRouterArr.indexOf(router.currentRoute.name) < 0) {\r\n    load.close()\r\n  }\r\n  if (error.response) {\r\n    switch (error.response.status) {\r\n      case 403:\r\n        if (errTime === 0) {\r\n          errTime = errTime + 1\r\n          ElementUI.MessageBox.confirm('您还未登录, 请先登录', '提示', {\r\n            type: 'error',\r\n            showCancelButton: false,\r\n            closeOnClickModal: false\r\n          }).then(() => {\r\n            router.replace({\r\n              name: 'login'\r\n            })\r\n            errTime = 0\r\n          }).catch((err) => {\r\n            console.error(err)\r\n          })\r\n          break\r\n        } else {\r\n          return false\r\n        }\r\n      default:\r\n        ElementUI.Message({\r\n          message: '网络错误，请稍后再试！',\r\n          type: 'warning'\r\n        })\r\n    }\r\n    return false\r\n  }\r\n  return Promise.reject(error.response.data)\r\n})\r\n\r\nexport default axios\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/http.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport axios from './assets/js/http' // 拦截器设置\nimport 'babel-polyfill' // webpack.base.conf.js 需配置 app: ['babel-polyfill', './src/main.js']\nimport './assets/stylus/index.styl' // 引入样式\n\nVue.config.productionTip = false\nVue.prototype.$axios = axios\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: {\n    App\n  },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = axios;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = OMN4\n// module chunks = 4","module.exports = Vuex;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Vuex\"\n// module id = SJI6\n// module chunks = 4","module.exports = ELEMENT;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ELEMENT\"\n// module id = l6IN\n// module chunks = 4","module.exports = Vue;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Vue\"\n// module id = lRwf\n// module chunks = 4","module.exports = VueRouter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"VueRouter\"\n// module id = pRNm\n// module chunks = 4"],"sourceRoot":""}